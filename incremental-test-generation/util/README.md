# Util
This directory contains all the utility files required to generate incremental tests from the generated mutated files. Each Python script is briefly described below, and they are ordered according to their typical usage. Please use the `meta.yaml` files from the previous script calls.

# generate_programs.py
This script generates an empty `meta.yaml` file and, depending on the passed options, calls the different [generators](../generators/README.md) to create mutated files in the `temp_dir` (`p_42.c`). It then adds the `___goblint_check()` function along with corresponding comments by calling `add_check.py` and `add_check_comments.py`.

# add_check.py
This script calls Goblint to add the `___goblint_check()` function to the C files in the `temp_dir` (`p_42_check.c`).

# add_check_comments.py
This script adds the corresponding `//UNKNOWN //SUCCESS` or `//SUCCESS` comments to all the Goblint checks (`___goblint_check()`) in the `temp_dir` (`p_42_check_unknown.c` / `p_42_check_success.c`).

# generate_tests.py
This script generates the test files for each mutation. A test consists of a source `.c` file, a `.patch` file containing the changes from the mutation, and a `.json` file with the Goblint options. Normally, a patch is the difference between the original program provided by the user (`p_0_check_success.c`) and the mutated program (`p_42_check_unknown.c`). For precision tests, the mutated program is only annotated with success Goblint checks (`p_42_check_success.c`). For mutations generated by a Git project, the patch is formed from the previous file to the current file.
